import { Steps } from 'nextra/components'
import InfoIcon from '../../../../app/_components/icons/info.jsx'

# Installation

> <InfoIcon /> To use WebNN before the [Origin Trial](https://developer.chrome.com/docs/web-platform/origin-trials) milestone, complete these setup requirements.

- Window 11, version 21H2 or newer
- It's recommended to install the latest [Intel® Arc™ & Iris® Xe Graphics on Windows](https://www.intel.com/content/www/us/en/download/785597/intel-arc-iris-xe-graphics-windows.html) for improved WebNN compatibility and performance

## Enabling WebNN

<Steps>
### Download and install the latest [Chrome Canary](https://google.com/chrome/canary) or [Edge Canary](https://www.microsoft.com/en-us/edge/download/insider?form=MA13FJ)
### Navigate to `about://flags` in browser address bar
### Search for `Enables WebNN API` and change it to `Enabled`
### Exit browser
</Steps>

## Running WebNN on CPU or GPU

### Launch Chrome Canary or Edge Canary

```bash copy showLineNumbers filename="launch-chrome-canary"
  "%LOCALAPPDATA%\Google\Chrome SxS\Application\chrome.exe"
```

```bash copy showLineNumbers filename="launch-edge-canary"
  "%LOCALAPPDATA%\Microsoft\Edge SxS\Application\msedge.exe"
```

## Running WebNN on NPU

- Window 11, version 24H2 or newer
- It's recommended to install the [Intel® Core™ Ultra NPU Driver 32.0.100.3717 on Windows](https://www.intel.com/content/www/us/en/download/794734/848729/intel-npu-driver-windows.html) for improved WebNN compatibility and performance
- Prepare the `DirectML.dll`. Download the latest redistributable [Microsoft.AI.DirectML](https://www.nuget.org/packages/Microsoft.AI.DirectML/1.15.2), rename `microsoft.ai.directml.[version].nupkg` to `microsoft.ai.directml.[version].nupkg.zip` and extract it

### Chrome Canary 

#### Put the `DirectML.dll` into correct path
  
Copy `\bin\x64-win\DirectML.dll` to `%LOCALAPPDATA%\Google\Chrome SxS\Application\[version]\`
  - `%LOCALAPPDATA%` means `C:\Users\<username>\AppData\Local\`
  - Note that Chrome Canary frequently updates automatically. When this occurs, recopy the `DirectML.dll` to the new version's directory.
#### Launch Chrome Canary in Windows Command Line
    
```bash copy showLineNumbers filename="enable-webnn-npu-chrome-canary"
  "%LOCALAPPDATA%\Google\Chrome SxS\Application\chrome.exe" --use-redist-dml --disable_webnn_for_npu=0
```

### Edge Canary 

#### Put the `DirectML.dll` into correct path

Copy `\bin\x64-win\DirectML.dll` to `%LOCALAPPDATA%\Microsoft\Edge SxS\Application\[version]\`
  - `%LOCALAPPDATA%` means `C:\Users\<username>\AppData\Local\`
  - Note that Edge Canary frequently updates automatically. When this occurs, recopy the `DirectML.dll` to the new version's directory.

#### Launch Edge Canary in Windows Command Line

```bash copy showLineNumbers filename="enable-webnn-npu-edge-canary"
  "%LOCALAPPDATA%\Microsoft\Edge SxS\Application\msedge.exe" --disable_webnn_for_npu=0
```

Test your WebNN API installation at [Playground - Hello WebNN](../../playground/webnn/hello-webnn).